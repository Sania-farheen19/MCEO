
/* /website/static/src/interactions/carousel/carousel_bootstrap_upgrade_fix.edit.js */
odoo.define('@website/interactions/carousel/carousel_bootstrap_upgrade_fix.edit',['@website/interactions/carousel/carousel_bootstrap_upgrade_fix','@web/core/registry','@website/core/website_edit_service'],function(require){'use strict';let __exports={};const{CarouselBootstrapUpgradeFix}=require("@website/interactions/carousel/carousel_bootstrap_upgrade_fix");const{registry}=require("@web/core/registry");const{withHistory}=require("@website/core/website_edit_service");const CarouselBootstrapUpgradeFixEdit=I=>class extends I{carouselOptions={ride:false,pause:true};setup(){super.setup();this.dynamicContent=withHistory(this.dynamicContent);}};registry.category("public.interactions.edit").add("website.carousel_bootstrap_upgrade_fix",{Interaction:CarouselBootstrapUpgradeFix,mixin:CarouselBootstrapUpgradeFixEdit,});return __exports;});;

/* /website/static/src/interactions/carousel/carousel_section_slider.edit.js */
odoo.define('@website/interactions/carousel/carousel_section_slider.edit',['@web/public/interaction','@web/core/registry'],function(require){'use strict';let __exports={};const{Interaction}=require("@web/public/interaction");const{registry}=require("@web/core/registry");const CarouselSectionSliderEdit=__exports.CarouselSectionSliderEdit=class CarouselSectionSliderEdit extends Interaction{static selector="section > .carousel";dynamicContent={".carousel-control-prev, .carousel-control-next":{"t-att-data-bs-slide":()=>undefined,"t-on-mousedown":this.onControlClick,},".carousel-indicators > *":{"t-att-data-bs-slide-to":()=>undefined,"t-on-mousedown":this.onControlClick,},};destroy(){const editTranslations=this.services.website_edit.isEditingTranslations();if(!editTranslations){const indicatorEls=this.el.querySelectorAll(".carousel-indicators > *");indicatorEls.forEach((indicatorEl,i)=>indicatorEl.setAttribute("data-bs-slide-to",i));}}
onControlClick(){this.el.querySelector(".carousel-item.active").click();}}
registry.category("public.interactions.edit").add("website.carousel_section_slider",{Interaction:CarouselSectionSliderEdit,});return __exports;});;

/* /website/static/src/interactions/carousel/carousel_slider.edit.js */
odoo.define('@website/interactions/carousel/carousel_slider.edit',['@website/interactions/carousel/carousel_slider','@web/core/registry'],function(require){'use strict';let __exports={};const{CarouselSlider}=require("@website/interactions/carousel/carousel_slider");const{registry}=require("@web/core/registry");const CarouselSliderEdit=I=>class extends I{dynamicContent={...this.dynamicContent,_root:{"t-on-content_changed":this.onContentChanged},};carouselOptions={ride:false,pause:true};onContentChanged(){this.computeMaxHeight();}};registry.category("public.interactions.edit").add("website.carousel_slider",{Interaction:CarouselSlider,mixin:CarouselSliderEdit,});return __exports;});;

/* /website/static/src/interactions/dropdown/hoverable_dropdown.edit.js */
odoo.define('@website/interactions/dropdown/hoverable_dropdown.edit',['@website/interactions/dropdown/hoverable_dropdown','@web/core/registry'],function(require){'use strict';let __exports={};const{HoverableDropdown}=require("@website/interactions/dropdown/hoverable_dropdown");const{registry}=require("@web/core/registry");const HoverableDropdownEdit=I=>class extends I{onMouseEnter(ev,currentTargetEl){if(this.el.querySelector(".dropdown-toggle.show")){return;}else{super.onMouseEnter(ev,currentTargetEl);}}
onMouseLeave(){}};registry.category("public.interactions.edit").add("website.hoverable_dropdown",{Interaction:HoverableDropdown,mixin:HoverableDropdownEdit,});return __exports;});;

/* /website/static/src/interactions/header/base_header.edit.js */
odoo.define('@website/interactions/header/base_header.edit',['@website/interactions/header/base_header','@web/core/registry'],function(require){'use strict';let __exports={};const{BaseHeader}=require("@website/interactions/header/base_header");const{registry}=require("@web/core/registry");const BaseHeaderEdit=I=>class extends I{adjustPosition(){}};registry.category("public.interactions.edit").add("website.base_header",{Interaction:BaseHeader,mixin:BaseHeaderEdit,isAbstract:true,});return __exports;});;

/* /website/static/src/interactions/image_shape_hover_effect.edit.js */
odoo.define('@website/interactions/image_shape_hover_effect.edit',['@website/interactions/image_shape_hover_effect','@web/core/registry'],function(require){'use strict';let __exports={};const{ImageShapeHoverEffect}=require("@website/interactions/image_shape_hover_effect");const{registry}=require("@web/core/registry");const ImageShapeHoverEffectEdit=I=>class extends I{adjustImageSourceFrom(preloadedImageEl){if(!this.el.dataset.originalSrcBeforeHover){this.el.dataset.originalSrcBeforeHover=this.originalImgSrc;}
super.adjustImageSourceFrom(preloadedImageEl);}};registry.category("public.interactions.edit").add("website.image_shape_hover_effect",{Interaction:ImageShapeHoverEffect,mixin:ImageShapeHoverEffectEdit,});return __exports;});;

/* /website/static/src/interactions/popup/no_backdrop_popup.edit.js */
odoo.define('@website/interactions/popup/no_backdrop_popup.edit',['@website/interactions/popup/no_backdrop_popup','@web/core/registry'],function(require){'use strict';let __exports={};const{NoBackdropPopup}=require("@website/interactions/popup/no_backdrop_popup");const{registry}=require("@web/core/registry");const NoBackdropPopupEdit=__exports.NoBackdropPopupEdit=(I)=>class extends I{start(){super.start();if(this.el.classList.contains("show")){this.addModalNoBackdropEvents();}}
addModalNoBackdropEvents(){if(this.resizeObserver){this.removeResizeListener();this.resizeObserver.disconnect();}
super.addModalNoBackdropEvents();}};registry.category("public.interactions.edit").add("website.no_backdrop_popup",{Interaction:NoBackdropPopup,mixin:NoBackdropPopupEdit,});return __exports;});;

/* /website/static/src/interactions/popup/shared_popup.edit.js */
odoo.define('@website/interactions/popup/shared_popup.edit',['@website/interactions/popup/shared_popup','@web/core/registry'],function(require){'use strict';let __exports={};const{SharedPopup}=require("@website/interactions/popup/shared_popup");const{registry}=require("@web/core/registry");const SharedPopupEdit=__exports.SharedPopupEdit=(I)=>class extends I{setup(){this.popupShown=true;}};registry.category("public.interactions.edit").add("website.shared_popup",{Interaction:SharedPopup,mixin:SharedPopupEdit,});return __exports;});;

/* /website/static/src/interactions/search_modal.edit.js */
odoo.define('@website/interactions/search_modal.edit',['@website/interactions/search_modal','@web/core/registry'],function(require){'use strict';let __exports={};const{SearchModal}=require("@website/interactions/search_modal");const{registry}=require("@web/core/registry");const SearchModalEdit=I=>class extends I{dynamicContent={_root:{"t-on-show.bs.modal.prevent":()=>{},},};};registry.category("public.interactions.edit").add("website.search_modal",{Interaction:SearchModal,mixin:SearchModalEdit,});return __exports;});;

/* /website/static/src/snippets/s_chart/chart.edit.js */
odoo.define('@website/snippets/s_chart/chart.edit',['@website/snippets/s_chart/chart','@web/core/registry'],function(require){'use strict';let __exports={};const{Chart}=require("@website/snippets/s_chart/chart");const{registry}=require("@web/core/registry");const ChartEdit=I=>class extends I{setup(){super.setup();this.noAnimation=true;}};registry.category("public.interactions.edit").add("website.chart",{Interaction:Chart,mixin:ChartEdit,});return __exports;});;

/* /website/static/src/snippets/s_countdown/countdown.edit.js */
odoo.define('@website/snippets/s_countdown/countdown.edit',['@website/snippets/s_countdown/countdown','@web/core/registry'],function(require){'use strict';let __exports={};const{Countdown}=require("@website/snippets/s_countdown/countdown");const{registry}=require("@web/core/registry");const CountdownEdit=(I)=>class extends I{get shouldHideCountdown(){return false;}
handleEndCountdownAction(){}};registry.category("public.interactions.edit").add("website.countdown",{Interaction:Countdown,mixin:CountdownEdit,});return __exports;});;

/* /website/static/src/snippets/s_dynamic_snippet/dynamic_snippet.edit.js */
odoo.define('@website/snippets/s_dynamic_snippet/dynamic_snippet.edit',['@website/snippets/s_dynamic_snippet/dynamic_snippet','@web/core/registry'],function(require){'use strict';let __exports={};const{DynamicSnippet}=require("@website/snippets/s_dynamic_snippet/dynamic_snippet");const{registry}=require("@web/core/registry");const DynamicSnippetEdit=I=>class extends I{setup(){super.setup();this.withSample=true;}
callToAction(){}};registry.category("public.interactions.edit").add("website.dynamic_snippet",{Interaction:DynamicSnippet,mixin:DynamicSnippetEdit,});return __exports;});;

/* /website/static/src/snippets/s_embed_code/embed_code.edit.js */
odoo.define('@website/snippets/s_embed_code/embed_code.edit',['@website/snippets/s_embed_code/embed_code','@web/core/registry','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{EmbedCode}=require("@website/snippets/s_embed_code/embed_code");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const EmbedCodeEdit=I=>class extends I{start(){if(this.embedCodeEl.offsetHeight===0){const placeholderEl=document.createElement("div");placeholderEl.classList.add("s_embed_code_placeholder","alert","alert-info","pt16","pb16");placeholderEl.textContent=_t("Your Embed Code snippet doesn't have anything to display. Click on Edit to modify it.");this.embedCodeEl.appendChild(placeholderEl);}}
destroy(){}};registry.category("public.interactions.edit").add("website.embed_code",{Interaction:EmbedCode,mixin:EmbedCodeEdit,});return __exports;});;

/* /website/static/src/snippets/s_google_map/google_map.edit.js */
odoo.define('@website/snippets/s_google_map/google_map.edit',['@website/snippets/s_google_map/google_map','@web/core/registry'],function(require){'use strict';let __exports={};const{GoogleMap}=require("@website/snippets/s_google_map/google_map");const{registry}=require("@web/core/registry");const GoogleMapEdit=I=>class extends I{setup(){super.setup();this.canSpecifyKey=true;}}
registry.category("public.interactions.edit").add("website.google_map",{Interaction:GoogleMap,mixin:GoogleMapEdit,});return __exports;});;

/* /website/static/src/snippets/s_image_gallery/gallery_slider.edit.js */
odoo.define('@website/snippets/s_image_gallery/gallery_slider.edit',['@website/snippets/s_image_gallery/gallery_slider','@web/core/registry'],function(require){'use strict';let __exports={};const{GallerySlider}=require("@website/snippets/s_image_gallery/gallery_slider");const{registry}=require("@web/core/registry");const GallerySliderEdit=I=>class extends I{setup(){super.setup();this.hideOnClickIndicator=false;}};registry.category("public.interactions.edit").add("website.gallery_slider",{Interaction:GallerySlider,mixin:GallerySliderEdit,});return __exports;});;

/* /website/static/src/snippets/s_website_form/form.edit.js */
odoo.define('@website/snippets/s_website_form/form.edit',['@web/public/interaction','@web/core/registry','@website/snippets/s_website_form/form','@web/core/utils/patch','@web/core/l10n/dates'],function(require){'use strict';let __exports={};const{Interaction}=require("@web/public/interaction");const{registry}=require("@web/core/registry");const{Form}=require("@website/snippets/s_website_form/form");const{patch}=require("@web/core/utils/patch");const{formatDate,formatDateTime,}=require("@web/core/l10n/dates");const{DateTime}=luxon;const FormDateFormatterEdit=__exports.FormDateFormatterEdit=class FormDateFormatterEdit extends Interaction{static selector=".s_website_form form .s_website_form_field .s_website_form_input.datetimepicker-input, form.s_website_form .s_website_form_field .s_website_form_input.datetimepicker-input";start(){const value=this.el.getAttribute("value");if(value){const format=this.el.closest(".s_website_form_field").dataset.type==="date"?formatDate:formatDateTime;this.el.value=format(DateTime.fromSeconds(parseInt(value)));}}}
registry.category("public.interactions.edit").add("website.form_date_formatter",{Interaction:FormDateFormatterEdit,});patch(Form.prototype,{setup(){super.setup();this.editTranslations=this.services.website_edit.isEditingTranslations();},prefillValues(){if(this.editTranslations){return;}
super.prefillValues();},});return __exports;});;

/* /website/static/src/core/website_edit_service.js */
odoo.define('@website/core/website_edit_service',['@web/core/registry','@web/legacy/js/public/public_root','@web/public/colibri','@web/core/utils/patch'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{PublicRoot}=require("@web/legacy/js/public/public_root");const{Colibri}=require("@web/public/colibri");const{patch}=require("@web/core/utils/patch");__exports.buildEditableInteractions=buildEditableInteractions;function buildEditableInteractions(builders){const result=[];const mixinPerInteraction=new Map();for(const makeEditable of builders){mixinPerInteraction.set(makeEditable.Interaction,makeEditable.mixin||((C)=>C));}
for(const makeEditable of builders){if(makeEditable.isAbstract){continue;}
let I=makeEditable.Interaction;const mixins=[];while(I.name!=="Interaction"){const mixin=mixinPerInteraction.get(I);if(mixin){mixins.push(mixin);}else{console.log(`No mixin defined for: ${I.name}`);}
I=I.__proto__;}
let EI=makeEditable.Interaction;while(mixins.length){EI=mixins.pop()(EI);}
if(!EI.name){const name=makeEditable.Interaction.name+"__mixin";EI={[name]:class extends EI{}}[name];}
result.push(EI);}
return result;}
registry.category("services").add("website_edit",{dependencies:["public.interactions"],start(env,{["public.interactions"]:publicInteractions}){let editableInteractions=null;let editMode=false;return{isEditingTranslations(){return!!publicInteractions.el.closest("html").dataset.edit_translations;},update(target,mode){const shouldActivateEditInteractions=editMode!==mode;publicInteractions.stopInteractions(target);if(shouldActivateEditInteractions){if(!editableInteractions){const builders=registry.category("public.interactions.edit").getAll();editableInteractions=buildEditableInteractions(builders);}
editMode=true;publicInteractions.editMode=true;publicInteractions.activate(editableInteractions);}else{publicInteractions.startInteractions(target);}},};},});PublicRoot.include({_restartInteractions(targetEl,options){const websiteEdit=this.bindService("website_edit");websiteEdit.update(targetEl,options?.editableMode||false);},});patch(Colibri.prototype,{protectSyncAfterAsync(interaction,name,fn){fn=super.protectSyncAfterAsync(interaction,name,fn);const fullName=`${interaction.constructor.name}/${name}`;return(...args)=>{const wysiwyg=window.$?.("#wrapwrap").data("wysiwyg");wysiwyg?.odooEditor.observerUnactive(fullName);const result=fn(...args);wysiwyg?.odooEditor.observerActive(fullName);return result;};},addListener(target,event,fn,options){fn=fn.bind(this.interaction);let stealth=true;const parts=event.split(".");if(parts.includes("keepInHistory")||options?.keepInHistory){stealth=false;event=parts.filter((part)=>part!=="keepInHistory").join(".");delete options?.keepInHistory;}
const wysiwyg=window.$?.("#wrapwrap").data("wysiwyg");let stealthFn=fn;if(wysiwyg?.odooEditor&&!fn.isHandler&&stealth){const name=`${this.interaction.constructor.name}/${event}`;stealthFn=(...args)=>{wysiwyg.odooEditor.observerUnactive(name);const result=fn(...args);wysiwyg.odooEditor.observerActive(name);return result;};}
return super.addListener(target,event,stealthFn,options);},applyAttr(el,attr,value){const wysiwyg=window.$?.("#wrapwrap").data("wysiwyg");const name=`${this.interaction.constructor.name}/${attr}`;wysiwyg?.odooEditor.observerUnactive(name);super.applyAttr(...arguments);wysiwyg?.odooEditor.observerActive(name);},applyTOut(el,value){const wysiwyg=window.$?.("#wrapwrap").data("wysiwyg");const name=`${this.interaction.constructor.name}/t-out`;wysiwyg?.odooEditor.observerUnactive(name);super.applyTOut(...arguments);wysiwyg?.odooEditor.observerActive(name);},});__exports.withHistory=withHistory;function withHistory(dynamicContent){const result={};for(const[selector,content]of Object.entries(dynamicContent)){result[selector]={};for(const[key,value]of Object.entries(content)){result[selector][key.startsWith("t-on-")?`${key}.keepInHistory`:key]=value;}}
return result;}
return __exports;});